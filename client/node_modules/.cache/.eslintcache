[{"/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/index.tsx":"1","/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/App.tsx":"2","/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/styles/globals.ts":"3","/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/routes/index.tsx":"4","/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/hooks/index.tsx":"5","/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/routes/Route.tsx":"6","/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/hooks/toast.tsx":"7","/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/hooks/auth.tsx":"8","/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/pages/SignIn/index.tsx":"9","/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/pages/SignUp/index.tsx":"10","/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/pages/Profile/index.tsx":"11","/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/pages/Dashboard/index.tsx":"12","/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/services/api.ts":"13","/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/pages/SignUp/styles.ts":"14","/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/pages/SignIn/styles.ts":"15","/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/pages/Profile/styles.ts":"16","/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/pages/Dashboard/styles.ts":"17","/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/utils/getValidationErrors.ts":"18","/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/components/ToastContainer/index.tsx":"19","/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/components/Input/index.tsx":"20","/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/components/Button/index.tsx":"21","/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/components/Sidebar/index.tsx":"22","/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/components/ToastContainer/styles.ts":"23","/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/components/Button/styles.ts":"24","/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/components/Sidebar/styles.ts":"25","/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/components/Input/styles.ts":"26","/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/components/ToastContainer/Toast/index.tsx":"27","/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/components/ToastContainer/Toast/styles.ts":"28","/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/components/Tooltip/index.tsx":"29","/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/components/Tooltip/styles.ts":"30"},{"size":198,"mtime":1626879122336,"results":"31","hashOfConfig":"32"},{"size":385,"mtime":1626879122291,"results":"33","hashOfConfig":"32"},{"size":437,"mtime":1626879087774,"results":"34","hashOfConfig":"32"},{"size":601,"mtime":1626879058759,"results":"35","hashOfConfig":"32"},{"size":294,"mtime":1626878798482,"results":"36","hashOfConfig":"32"},{"size":802,"mtime":1626879020887,"results":"37","hashOfConfig":"32"},{"size":1448,"mtime":1626878798484,"results":"38","hashOfConfig":"32"},{"size":2097,"mtime":1626878798481,"results":"39","hashOfConfig":"32"},{"size":2669,"mtime":1626878935744,"results":"40","hashOfConfig":"32"},{"size":2830,"mtime":1626878886851,"results":"41","hashOfConfig":"32"},{"size":4262,"mtime":1626879291989,"results":"42","hashOfConfig":"32"},{"size":852,"mtime":1626878978328,"results":"43","hashOfConfig":"32"},{"size":116,"mtime":1626879082294,"results":"44","hashOfConfig":"32"},{"size":1499,"mtime":1626878886852,"results":"45","hashOfConfig":"32"},{"size":1494,"mtime":1626878886849,"results":"46","hashOfConfig":"32"},{"size":1632,"mtime":1626878886843,"results":"47","hashOfConfig":"32"},{"size":1209,"mtime":1626878886840,"results":"48","hashOfConfig":"32"},{"size":350,"mtime":1626879108814,"results":"49","hashOfConfig":"32"},{"size":784,"mtime":1626878742187,"results":"50","hashOfConfig":"32"},{"size":1678,"mtime":1626878742170,"results":"51","hashOfConfig":"32"},{"size":399,"mtime":1626878742148,"results":"52","hashOfConfig":"32"},{"size":929,"mtime":1626880658036,"results":"53","hashOfConfig":"32"},{"size":162,"mtime":1626878742188,"results":"54","hashOfConfig":"32"},{"size":380,"mtime":1626878742149,"results":"55","hashOfConfig":"32"},{"size":958,"mtime":1626878742180,"results":"56","hashOfConfig":"32"},{"size":1095,"mtime":1626878742170,"results":"57","hashOfConfig":"32"},{"size":1203,"mtime":1626878742185,"results":"58","hashOfConfig":"32"},{"size":1181,"mtime":1626878742186,"results":"59","hashOfConfig":"32"},{"size":367,"mtime":1626878742190,"results":"60","hashOfConfig":"32"},{"size":738,"mtime":1626878742191,"results":"61","hashOfConfig":"32"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},"1ebble",{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85","usedDeprecatedRules":"64"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/index.tsx",[],["124","125","126","127","128"],"/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/App.tsx",[],"/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/styles/globals.ts",[],"/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/routes/index.tsx",[],"/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/hooks/index.tsx",[],"/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/routes/Route.tsx",[],"/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/hooks/toast.tsx",[],"/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/hooks/auth.tsx",[],"/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/pages/SignIn/index.tsx",[],"/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/pages/SignUp/index.tsx",[],"/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/pages/Profile/index.tsx",["129","130"],"import React, { useCallback, useRef } from 'react';\nimport { FiUser, FiMail, FiLock, FiArrowLeft } from 'react-icons/fi';\nimport { FormHandles } from '@unform/core';\nimport { Form } from '@unform/web';\nimport * as Yup from 'yup';\nimport { Link, useHistory } from 'react-router-dom';\n\nimport api from '../../services/api';\n\nimport { useToast } from '../../hooks/toast';\n\nimport getValidationErrors from '../../utils/getValidationErrors';\n\nimport Input from '../../components/Input';\nimport Button from '../../components/Button';\n\nimport { Container, Content } from './styles';\nimport { useAuth } from '../../hooks/auth';\n\ninterface ProfileFormData {\n  name: string;\n  email: string;\n  old_password: string;\n  password: string;\n  password_confirmation: string;\n}\n\nconst Profile: React.FC = () => {\n  const formRef = useRef<FormHandles>(null);\n  const { addToast } = useToast();\n  const history = useHistory();\n\n  const { user, updateUser } = useAuth();\n\n  const handleSubmit = useCallback(\n    async (data: ProfileFormData) => {\n      try {\n        formRef.current?.setErrors({});\n\n        const schema = Yup.object().shape({\n          name: Yup.string().required('Name mandatory'),\n          email: Yup.string()\n            .email('Insert a valid email')\n            .required('E-mail mandatory'),\n          old_password: Yup.string(),\n          password: Yup.string().when('old_password', {\n            is: (val: any) => !!val.length,\n            then: Yup.string().required('Mandatory field'),\n            otherwise: Yup.string(),\n          }),\n          password_confirmation: Yup.string()\n            .when('old_password', {\n              is: (val: any) => !!val.length,\n              then: Yup.string().required('Mandatory field'),\n              otherwise: Yup.string(),\n            })\n            .oneOf([Yup.ref('password'), undefined], 'Passwords must match'),\n        });\n\n        await schema.validate(data, {\n          abortEarly: false,\n        });\n\n        const { name, email, old_password, password, password_confirmation } =\n          data;\n\n        const formData = {\n          name,\n          email,\n          ...(data.old_password\n            ? {\n                old_password,\n                password,\n                password_confirmation,\n              }\n            : {}),\n        };\n\n        const response = await api.put('/profile', formData);\n\n        updateUser(response.data);\n\n        history.push('/');\n\n        addToast({\n          type: 'success',\n          title: 'Profile updated successfully!',\n          description: 'Your new settings have been saved',\n        });\n      } catch (err) {\n        if (err instanceof Yup.ValidationError) {\n          const errors = getValidationErrors(err);\n\n          formRef.current?.setErrors(errors);\n\n          return;\n        }\n\n        addToast({\n          type: 'error',\n          title: 'Update error',\n          description:\n            'An error occurred while trying to update your profile, please try again.',\n        });\n      }\n    },\n    [addToast, history, updateUser],\n  );\n\n  return (\n    <Container>\n      <header>\n        <div>\n          <Link to=\"/dashboard\">\n            <FiArrowLeft />\n          </Link>\n        </div>\n      </header>\n\n      <Content>\n        <Form\n          ref={formRef}\n          initialData={{\n            name: user.name,\n            email: user.email,\n          }}\n          onSubmit={handleSubmit}\n        >\n          <h1>My profile</h1>\n\n          <Input name=\"name\" icon={FiUser} placeholder=\"Name\" />\n\n          <Input name=\"email\" icon={FiMail} placeholder=\"E-mail\" />\n\n          <Input\n            containerStyle={{ marginTop: 24 }}\n            name=\"old_password\"\n            icon={FiLock}\n            type=\"password\"\n            placeholder=\"Current password\"\n          />\n\n          <Input\n            name=\"password\"\n            icon={FiLock}\n            type=\"password\"\n            placeholder=\"New password\"\n          />\n\n          <Input\n            name=\"password_confirmation\"\n            icon={FiLock}\n            type=\"password\"\n            placeholder=\"Password confirmation\"\n          />\n\n          <Button type=\"submit\">Confirm changes</Button>\n        </Form>\n      </Content>\n    </Container>\n  );\n};\n\nexport default Profile;\n","/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/pages/Dashboard/index.tsx",[],"/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/services/api.ts",[],"/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/pages/SignUp/styles.ts",[],"/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/pages/SignIn/styles.ts",[],"/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/pages/Profile/styles.ts",[],"/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/pages/Dashboard/styles.ts",[],"/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/utils/getValidationErrors.ts",[],"/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/components/ToastContainer/index.tsx",[],"/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/components/Input/index.tsx",[],"/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/components/Button/index.tsx",[],"/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/components/Sidebar/index.tsx",[],"/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/components/ToastContainer/styles.ts",[],"/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/components/Button/styles.ts",[],"/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/components/Sidebar/styles.ts",[],"/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/components/Input/styles.ts",[],"/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/components/ToastContainer/Toast/index.tsx",[],"/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/components/ToastContainer/Toast/styles.ts",[],"/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/components/Tooltip/index.tsx",[],"/Users/gabrieldsilva/Library/Mobile Documents/com~apple~CloudDocs/Documents/code/dev/volmate/client/src/components/Tooltip/styles.ts",[],{"ruleId":"131","replacedBy":"132"},{"ruleId":"133","replacedBy":"134"},{"ruleId":"135","replacedBy":"136"},{"ruleId":"137","replacedBy":"138"},{"ruleId":"139","replacedBy":"140"},{"ruleId":"141","severity":1,"message":"142","line":47,"column":23,"nodeType":"143","messageId":"144","endLine":47,"endColumn":26,"suggestions":"145"},{"ruleId":"141","severity":1,"message":"142","line":53,"column":25,"nodeType":"143","messageId":"144","endLine":53,"endColumn":28,"suggestions":"146"},"lines-around-directive",["147"],"global-require",[],"no-buffer-constructor",[],"no-new-require",[],"no-path-concat",[],"@typescript-eslint/no-explicit-any","Unexpected any. Specify a different type.","TSAnyKeyword","unexpectedAny",["148","149"],["150","151"],"padding-line-between-statements",{"messageId":"152","fix":"153","desc":"154"},{"messageId":"155","fix":"156","desc":"157"},{"messageId":"152","fix":"158","desc":"154"},{"messageId":"155","fix":"159","desc":"157"},"suggestUnknown",{"range":"160","text":"161"},"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct.","suggestNever",{"range":"160","text":"162"},"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of.",{"range":"163","text":"161"},{"range":"163","text":"162"},[1413,1416],"unknown","never",[1652,1655]]